
import { elts } from '{{ exp_js }}/util.js';
import { Task } from '{{ exp_js }}/task.js';

const dom = elts(
    'exp-consent-agree-box', 'exp-consent-radio1', 'exp-consent-radio2');

class ConsentTask extends Task {

    async reset() {
        await super.reset();
        this.disableNext();

        this.guide(dom['exp-consent-agree-box']);

        dom['exp-consent-radio1'].addEventListener('click', () => {
            this.setResponse('consent_given');
            this.enableNext();
        });
        dom['exp-consent-radio2'].addEventListener('click', () => {
            this.setResponse('consent_declined');
            this.enableNext();
        });
    }
}

export { ConsentTask as taskClass };
